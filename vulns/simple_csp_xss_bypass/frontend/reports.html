<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CSP XSS BYPASS 1</title>       
    </head>
    <body>
        <h2>Bug reports</h2>
        <ul id="buglist"></ul>
        <script>
            async function loadbugs(){
                const response = await fetch("/api/reports");
                const bugs = await response.json();
                const buglist = document.getElementById("buglist");
                buglist.innerHTML = "";
                console.log(bugs.reports);
                bugs.reports.forEach(bug=>{
                    const li = document.createElement("li");
                    xss = bug.message;
                    li.innerHTML = `<strong>${bug.name}</strong>:${xss}`;
                    buglist.appendChild(li);
                });
            }
        </script>
        <script>
            loadbugs();
        </script>
    </body>
</html>